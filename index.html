<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="./demo.css">
    <title>天官赐福</title>
</head>

<body>
    <div class="nav">
        <ul class="nav_ul">
            <li class="nav_li1">
                <img src="images/kuwo.jpg">
            </li>
            <li class="nav_li2">
                <a href="#">首页</a>
            </li>
            <li class="nav_li3">
                <a href="#">榜单</a>
            </li>
            <li class="nav_li4">
                <a href="#">歌手</a>
            </li>
            <li class="nav_li5">
                <a href="#">下载酷我客户端</a>
            </li>
            <li class="nav_li6">
                <a href="#">美女秀</a>
            </li>
            <li class="nav_li7">
                <a href="#">酷我耳机</a>
            </li>
            <li class="nav_li8">
                <a href="#">VIP会员</a>
            </li>
            <li class="nav_li9">
                <a href="#">i听</a>
            </li>
            <li class="nav_li10">
                <a href="#">更多服务</a>
            </li>
            <li class="nav_li11">
                <a href="#">登录</a>
            </li>
            <li class="nav_li12">
                <a href="#">找到好音乐</a>
            </li>
        </ul>
    </div>
    <div class="con">
        <!-- 左半面 -->
        <div class="left">
            <div class="title1">
                <div class="title">
                    无别
                </div>
                <div class="details">
                    <div>专辑：</div><span>歌曲大全</span>
                    <div>歌手：</div><span>尚辰</span>
                    <div>分享</div>
                    <img/>
                    <span>评论</span>
                </div>
                <p class="upTime">
                    上传时间：2015-10-02 歌曲来源：民大相思湖网球社
                </p>
                <br/>
                <hr/>
                <br/>
                <div class="lyrics">

                    <p>情丝挥剑 断了纠缠仍相恋 </p>
                    <p>有谁怜 灭了明灯对残月</p>
                    <p>往事化蝶 掠过花丛又离别 </p>
                    <p>忍着泪 等待重遇的喜悦 </p>
                    <p>花瓣落成雪 满城游魂夜 </p>
                    <p>曾信仰的爱丝毫未冷却 </p>
                    <p>容颜未憔悴 徒让白衣袖成灰</p>
                    <p>和宿命不停追逐后 相会 </p>
                    <p>别后 花枯萎 眷恋盛开过的</p>
                    <p>一回眸 满眼幸福的诗篇 </p>
                    <p>别后 花残缺 还剩绽放过的</p>
                    <p>错过你 尝尽酸甜都无味 </p>
                    <p>错过你 尝尽酸甜都无味 </p>
                    <p>情丝挥剑 缘份消失仍隐约 </p>
                    <p>有谁恋 灭了明灯对残月 </p>
                    <p>往事化蝶 昨日比翼今双飞 </p>
                    <p>忍着泪 等待重遇的喜悦</p>
                    <p>花瓣落成雪 满城游魂夜 </p>


                </div>
            </div>
            <!-- 右半面-->
            <div class="right">
                <div class="song_pic">
                    <img src="images/天官赐福.jpg">
                </div>
                <!--音频-->
                <div class="song">
                    <div class="song_video">
                        <audio controls loop="true" id="myaudio">
                    <source type="audio/mp3" src="./video/尚辰 - 无别（《天官赐福》动画片头曲）（翻自 张信哲）.mp3"></source>
                </audio>
                        <!--音频开始按钮-->
                        <div id="start">
                        </div>
                        <!-- 进度条 -->
                        <div id="process">
                            <div id="dot"></div>
                        </div>
                        <!-- 时间 -->
                        <div id="playTime">

                        </div>
                        <!-- 静音 -->
                        <div id="mute">

                        </div>
                    </div>
                </div>
                <div class="download">
                    <img/> 免费下载这首歌
                </div>
            </div>
        </div>
        <!--评论-->
        <div class="commit">
            <p class="commit_p1">评论 1703条评论</p>
            <hr/>
            <div class="commit1">
                <img src="./images/花城.jpg" id="commit1_img" />
                <input type="text" value="分享你的音乐见解" id="text" />
                <img src="./images/smile.jpg" id="smile" />
                <input type="button" value="评论" id="addButton" />
            </div>
            <hr/>
            <p id="commit_p">精彩评论</p>
            <div id="commitlistn">
                <div id="commitlist">
                </div>
            </div>
            <!-- 分页效果 -->
            <ul class="page" id="page">
                <li>
                    <a id="former" href="##">
                        < </a>
                </li>
                <li><a id="one" href="##"> 1</a></li>
                <li><a id="two" href="##"> 2</a></li>
                <li><a id="three" href="##"> 3</a></li>
                <li class="more"><a id="five" href="##"> ...</a></li>
                <li><a id="fore" href="##"> 17</a></li>
                <li>
                    <a id="next" href="##"> > </a>
                </li>
            </ul>
        </div>




</body>

<script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<script>
    var mymusic = document.getElementById("mymusic");
    var start = document.getElementById("start");
    var process = document.getElementById("process");
    var dot = document.getElementById("dot");
    var playTime = document.getElementById("playTime");
    var mute = document.getElementById("mute");
    var text = document.getElementById("text");
    var smile = document.getElementById("smile");
    var addButton = document.getElementById("addButton");
    var commitp = document.getElementById("commit_p")
    var commitlist = document.getElementById("commitlist");
    var page = document.getElementById("page");
    var commitlistn = document.getElementById("commitlistn");
    // var commit1img = document.getElementById("commit_img");
    var one = document.getElementById("one");
    var two = document.getElementById("two");



    var onOff = false;
    start.onclick = function() {
            if (!onOff) {
                start.style.backgroundPosition = "191px 40px";
                myaudio.play();
                onOff = true;
                setInterval(getcurrenttime, 1000); //时间
                setInterval(getprocess, 1); //进度条
            } else {
                start.style.backgroundPosition = "192px 121px";
                myaudio.pause();
                onOff = false;
            }
        }
        //获取时间函数
    playTime.innerHTML = "00: 00";
    getcurrenttime = function() {
        var min = Math.floor(myaudio.currentTime / 60);
        var sec = Math.floor(myaudio.currentTime - min * 60);
        if (min < 10) {
            min = "0" + min;
        } else {
            min = min;
        }
        if (sec < 10) {
            sec = "0" + sec;
        } else {
            sec = sec;
        }
        var currenttime = min + ":" + sec;
        playTime.innerHTML = currenttime;
    }

    //进度条函数
    getprocess = function() {
        dot.style.left = "" + parseFloat(myaudio.currentTime / myaudio.duration) * 200 + "px";
    }

    //静音设置
    var sound = false;
    mute.onclick = function() {
        if (!sound) {
            mute.style.backgroundPosition = "-309px -109px";
            myaudio.muted = true;
            sound = true;
        } else {
            mute.style.backgroundPosition = "-263px -109px";
            myaudio.muted = false;
            sound = false
        }
    }

    //笑脸
    smile.onclick = function() {
            text.innerHTML = "<imgsrc=''. / images / smile.jpg '/>";
        }
        //本地存储
    var n = 0;
    addButton.onclick = function() {
        n = n + 1;
        var someoneImg = document.getElementById("commit1_img");
        var text = document.getElementById("text").value;
        var time = localStorage.setItem("sticky", text);
        var time = new Date();
        localStorage.setItem('storagetime', time);

        //创建节点

        var newdiv = document.createElement("div")
        var newimg = document.createElement("img");
        var newdiv2 = document.createElement("div");
        var newspan = document.createElement("span");
        var newdiv3 = document.createElement("div");
        var newdiv4 = document.createElement("div");
        var newdiv5 = document.createElement("div");
        var button1 = document.createElement("button");
        var newdiv6 = document.createElement("div");
        var button2 = document.createElement("button");
        var button3 = document.createElement("button");
        var button4 = document.createElement("button");


        //
        commitlist.style.paddingLeft = "100px";
        //newdiv
        newdiv.style.width = "800px";
        newdiv.style.height = "100px";
        newdiv.style.display = "flex";
        newdiv.style.borderTop = "1px solid red";
        newdiv.style.borderBottom = "1px solid red";

        //图片
        newimg.innerHTML = localStorage.getItem("commitImg");
        newimg.src = someoneImg.src;
        newimg.style.width = "70px";
        newimg.style.height = "70px";
        newimg.style.border = "1px solid #fff";
        newimg.style.marginRight = "20px";
        newimg.style.marginTop = "10px";

        //留言内容
        newdiv2.style.width = "500px";
        //留言人
        newspan.innerHTML = "花城";
        newspan.style.fontSize = "18px";
        newspan.style.fontWeight = "bold";
        newspan.style.color = "#e9a24e";

        //留言内容
        newdiv3.innerHTML = localStorage.getItem("sticky");
        newdiv3.style.fontSize = "15px";
        newdiv3.style.marginTop = "5px";
        newdiv3.style.marginBottom = "5px";

        //留言时间
        // newdiv4.innerHTML = localStorage.getItem('storagetime');

        var year = time.getFullYear();
        var month = time.getMonth();
        var months = month + 1;
        var date = time.getDate();
        var day = time.getDay();
        var hour = time.getHours();
        var minute = time.getMinutes();
        var second = time.getSeconds();
        var d = year + "-" + months + "-" + date + " " + hour + ":" + minute + ":" + second;

        newdiv4.innerHTML = d;
        newdiv4.style.marginTop = "28px";
        newdiv4.style.fontSize = "12px";

        //最后按钮部分
        button1.innerHTML = "分享";
        button1.style.fontSize = "10px";
        button1.style.width = "30px";
        button1.style.height = "20px";
        button1.style.border = "1px solid #fff";
        button1.style.marginTop = "10px";
        button1.style.marginLeft = "50px";

        button2.innerHTML = "删除";
        button2.style.fontSize = "10px";
        button2.style.width = "30px";
        button2.style.height = "20px";
        button2.style.border = "1px solid #fff";
        button2.style.marginLeft = "3px";
        button2.style.marginTop = "45px";

        button3.innerHTML = "点赞";
        button3.style.fontSize = "10px";
        button3.style.width = "30px";
        button3.style.height = "20px";
        button3.style.border = "1px solid #fff";
        button3.style.marginLeft = "3px";
        button3.style.marginTop = "45px";

        button4.innerHTML = "回复";
        button4.style.fontSize = "10px";
        button4.style.width = "30px";
        button4.style.height = "20px";
        button4.style.border = "1px solid #fff";
        button4.style.marginLeft = "3px";
        button4.style.marginTop = "45px";
        //节点插入！！

        newdiv.appendChild(newimg);
        newdiv.appendChild(newdiv2);
        newdiv.appendChild(newdiv5);

        newdiv2.appendChild(newspan);
        newdiv2.appendChild(newdiv3);
        newdiv2.appendChild(newdiv4);

        newdiv5.appendChild(button1);
        newdiv5.appendChild(newdiv6);

        newdiv6.appendChild(button2);
        newdiv6.appendChild(button3);
        newdiv6.appendChild(button4);
        commitlist.appendChild(newdiv);



        //分页效果
        if (3 < n) {
            commitlist.style.display = "none";
            var commitlist1 = document.createElement("div");
            commitlist1.style.width = "800px";
            commitlist1.style.height = "100px";
            commitlist1.style.marginLeft = "400px";
            commitlist1.appendChild(newdiv);
            commitlistn.appendChild(commitlist1);
            //分页
        }
        //本地存储的删除
        button2.onclick = function() {
            window.localStorage.clear(text);
            commitlist.removeChild(newdiv);
            n = n - 1;
            console.log(n);
        }

        // if (6 < n < 9) {
        //     commitlist1.style.display = "none";
        //     var commitlist2 = document.createElement("div");
        //     commitlist2.style.width = "800px";
        //     commitlist2.style.height = "100px";
        //     // commitlist1.style.border = "1px solid red";
        //     commitlist2.style.marginLeft = "400px";
        //     // commitlist1.style.marginTop = "100px";
        //     commitlistn.appendChild(commitlist2);



        //     commitlist2.appendChild(newdiv);
        //     //分页
        // }
        console.log(n);
        console.log(localStorage.getItem("sticky"));
        console.log(localStorage.getItem('storagetime'));

        one.onclick = function() {
            commitlist.style.display = "block";
            commitlist1.style.display = "none";
        }
        two.onclick = function() {
            commitlist.style.display = "none";
            commitlist1.style.display = "block";

        }


    }


    // https://liujing222.github.io/xueli08/index.html
</script>

</html>
